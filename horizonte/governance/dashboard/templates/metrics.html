<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Proyecto Horizonte — Métricas del Sistema</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 2rem; background: #f6f8fa; }
      h1 { color: #2b4c7e; }
      ul { list-style: none; padding: 0; }
      li { margin-bottom: 0.5rem; font-size: 1.1rem; }
      .metric-value { font-weight: bold; }
      .adaptive-block { margin-top: 2rem; padding: 1.5rem; background: #fff; border-radius: 0.75rem; box-shadow: 0 10px 30px rgba(27, 48, 78, 0.08); }
      .adaptive-block h2 { margin-top: 0; color: #314e89; }
    </style>
  </head>
  <body>
    <h1>Proyecto Horizonte — Métricas del Sistema</h1>
    <ul>
      <li>
        Inferencias totales:
        <span class="metric-value">{{ inferencias_totales }}</span>
      </li>
      <li>
        Promedio de latencia:
        <span class="metric-value">{{ promedio_latencia_ms }}</span> ms
      </li>
      <li>
        Éticas denegadas:
        <span class="metric-value">{{ respuestas_ethics_denegadas }}</span>
      </li>
      <li>
        Consultas por minuto:
        <span class="metric-value">{{ consultas_por_minuto }}</span>
      </li>
    </ul>
    {% set adapt = ethics_adaptive %}
    <section class="adaptive-block">
      <h2>Ética Adaptativa</h2>
      <ul>
        <li>
          Precisión Ética:
          <span class="metric-value">{{ (adapt.precision * 100) | round(2) }}%</span>
        </li>
        <li>
          Consistencia Cognitiva:
          <span class="metric-value">{{ (adapt.consistency * 100) | round(2) }}%</span>
        </li>
        <li>
          Índice de Sesgo:
          <span class="metric-value">{{ adapt.bias_index | round(3) }}</span>
        </li>
        <li>
          Última actualización:
          <span class="metric-value">{{ adapt.last_update }}</span>
        </li>
      </ul>
    </section>
  </body>
</html>
